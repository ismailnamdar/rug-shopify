<div class="subscription-progress-bar">
  {% for i in (1..4) %}
    <div class="progress__step progress__step--{{i}}" rv-class-disabled="state.completedSteps | includes {{i}} | not" rv-class-active="state.activeStep | gte {{i}}" rv-on-click="methods.changeStep | args {{i}}">
      <div class="progress__step-buble">
        <span class="progress__completed" rv-class-displayed="state.activeStep | gte {{i | plus: 1}}">{% render "icon-tick" %}</span>
        <span class="progress__no">{{i}}</span>
      </div>
      {% capture key %}step_{{i}}_short_title{% endcapture %}
      <div class="progress__step-title">{{steps[key]}}</div>
    </div>
  {% endfor %}
</div>


<style>
  .progress__completed svg {
    width: 15px;
  }
  .progress__completed {
    display: none;
  }
  .progress__completed.displayed {
    display: block;
  }
  .progress__completed.displayed + .progress__no {
    display: none;
  }
  .subscription-progress-bar {
    display: flex;
    justify-content: space-between;
    position: relative;
    margin-bottom: 1.6rem;
  }

  .progress__step {
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 2;
    position: relative;
    cursor: pointer;
  }

  .progress__step.disabled {
    pointer-events: none;
  }

  .progress__step-buble {
    width: 3.2rem;
    height: 3.2rem;
    background: #e9e9e9;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50px;
    font-family: KG HAPPY Solid,sans-serif;
    color: #4D4D4D;
    transition: all .3s;
  }

  .progress__step-title {
    font-size: 11px;
    line-height: 14px;
    font-weight: 400;
    margin-top: 8px;
  }

  .progress__step.active .progress__step-buble {
    background: #A9DD61;
  }

  .progress__step.active .progress__step-title {
    font-weight: bold;
  }
 
  .subscription-progress-bar::after {
    content: "";
    position: absolute;
    height: 4px;
    width: calc(100% - 10px);
    background: #a9dd6166;
    top: 13px;
    left: 5px;
    z-index: 1;
  }

  @media screen and (min-width: 750px) {
    .subscription-progress-bar {
      max-width: 330px;
      margin: 0 auto;
    }
  }
</style>