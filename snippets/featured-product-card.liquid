{% assign override_img = settings.override_image %}
{% assign first_variant = product.selected_or_first_available_variant %}
<div class="featured-grid-card">
    <a class="featured-grid-card__media" href="{{ product.url }}">
        {% if override_img != blank %}
        {{ override_img | image_url: width: 1200 | image_tag:
            loading: 'lazy',
            class: 'featured-grid-card__img',
            alt: settings.override_title | default: product.title }}
        {% elsif product.featured_image %}
        {{ product.featured_image | image_url: width: 1200 | image_tag:
            loading: 'lazy',
            class: 'featured-grid-card__img',
            alt: product.featured_image.alt | default: product.title }}
        {% else %}
        <div class="featured-grid-card__placeholder" aria-hidden="true"></div>
        {% endif %}

        {% if settings.quick_add != false %}
        <product-form>
            {% render "form-error" %}
            <form action="/cart/add" class="featured-grid-card__quickadd" method="post" enctype="multipart/form-data"  data-product-handle="{{product.handle}}">
            <input type="hidden" name="quantity" value="1">
            <input type="hidden" name="id" value="{{ first_variant.id }}">
            <button class="featured-grid-card__cart-btn"
                type="submit"
                name="add"
                data-add-to-cart
                {% unless first_variant.available %}disabled aria-disabled="true"{% endunless %}
                aria-label="{{ 'products.product.add_to_cart' | t }}">
                <div class="loading-overlay__spinner hidden" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: center; background-color: #4D4D4D; padding: 10px;">
                <svg aria-hidden="true" focusable="false" role="presentation" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                    <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
                </svg>
                </div>
                <img src="{{ 'cart-white.png' | asset_url }}" class="featured-grid-card__cart-btn-icon" alt="cart icon" loading="lazy" width="20" height="17">
            </button>
            </form>
        </product-form>
        {% endif %}
    </a>

    <a href="{{ product.url }}" class="featured-grid-card__info">
        <h3 class="featured-grid-card__title">
        {{ settings.override_title | default: product.title }}
        </h3>

        {% if settings.show_price != false %}
        <div class="featured-grid-card__price">
            {{product.price | money}}
        </div>
        {% endif %}
    </a>
</div>