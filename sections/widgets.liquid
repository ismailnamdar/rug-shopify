<div class="section-widgets">
  <div class="page-width">
    <ul class="list-widgets">
      {%- for block in section.blocks -%}
        {%- assign _block = block.settings -%}
        {%- assign block_image = _block.image -%}
        {%- assign block_title = _block.title -%}
        {%- assign block_text = _block.text -%}
        {%- assign block_url = _block.url -%}

        <li>
          <div>
            {% if block_image != blank %}
              <figure>
                {% include 'image', _image: block_image, size: '686', alt: block_image.alt %}
              </figure>
            {% endif %}

            {% if block_title != blank %}
              <h3>
                {% if block_url != blank %}
                  <a href="{{- block_url -}}">
                {% endif %}
                {{- block_title -}}
                {% if block_url != blank %}
                  </a>
                {% endif %}
              </h3>
            {% endif %}

            {% if block_text != blank %}
              <p>
                {{- block_text | newline_to_br -}}
              </p>
            {% endif %}

          </div>
        </li>
      {%- endfor -%}
    </ul><!-- /.list-widgets -->
  </div><!-- /.page-width -->
</div><!-- /.section-widgets -->

{% schema %}
{
  "name": "Widgets",
  "max_blocks": 9999,
  "blocks": [
    {
      "type": "widget",
      "name": "Widget",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "url",
          "label": "URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Widgets",
      "category": "Home Sections"
    }
  ]
}
{% endschema %}
