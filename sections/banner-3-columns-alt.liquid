<script src="{{ 'typewritter.js' | asset_url }}"></script>
{% if section.settings.header_text != blank %}
<div class="banner-section-header" style="background-color: {{section.settings.header_background}};" > 
  {{section.settings.header_text}}
</div>
{% endif %}
<div class="top-section--banner-alt hidden-desktop" style="background-color: {{section.settings.background_color}};">
  <div class="top-section--banner-alt--container">
    <h1 class="h1" style="color: {{section.settings.header_color}}"> {{section.settings.title}} </h1>
    <div class="animated-text" id="animated-text-mobile"></div>
  </div>
</div>
<div class="banner banner--3-columns banner--3-columns-alt">
  <div class="content-left">
    {% render 'image', _image: section.settings.left_image, alt: section.settings.left_image.alt %}
  </div>
  <div class="content-center" style="background-color: {{section.settings.background_color}};">
    <div class="hidden-mobile animated-content-container"> 
      <h1 class="h1" style="color: {{section.settings.header_color}}">{{section.settings.title}}</h1>
      <div class="animated-text" id="animated-text"></div>
    </div>
    <p class="banner-description">{{section.settings.description}}</p>
    <div class="banner--3-columns__icons-blocks">
      {% for block in section.blocks %}
        <div class="banner--3-columns__icon-block">
          <div class="banner--3-columns__icon-container" style="max-width: {{block.settings.icon_width}}px">
            {% if block.settings.icon != blank %}
              {% render 'image', _image: block.settings.icon, alt: block.settings.icon.alt %}
            {% endif %}
          </div>
          <p>{{block.settings.title}}</p>
        </div>
      {% endfor %}
    </div>
    {% if section.settings.text != blank %}
      <a class="btn" href="{{section.settings.url}}">{{section.settings.text}}</a>
    {% endif %}
  </div>
  <div class="content-right">
    {% render 'image', _image: section.settings.right_image, alt: section.settings.right_image.alt %}
  </div>
  {% comment %}
  <div style=" overflow: hidden;" class="wave" ><svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M0.00,49.99 C220.37,178.13 240.12,-71.53 500.00,49.99 L500.00,150.00 L0.00,150.00 Z" style="stroke: none; fill: white;"></path></svg></div>
  <div style="overflow: hidden;" class="wave-vertical"><svg viewBox="0 0 500 150" preserveAspectRatio="none" style="height: 100%; width: 100%;"><path d="M26.80,-2.45 C17.21,60.70 17.21,65.63 30.76,149.51 L0.00,150.00 L0.00,0.00 Z" style="stroke: none; fill: {{section.settings.background_color}};"></path></svg></div>
  {% endcomment %}
</div>

{% if section.settings.animated_text != blank %}
  <script>
  var app = document.getElementById('animated-text');

  var typewriter = new Typewriter(app, {
      loop: true,
      delay: 70
  });
  {% assign texts = section.settings.animated_text | split: "|" %}
  typewriter
  {% for text in texts%}
    .typeString('{{text}}')
    .pauseFor(1000)
    .deleteAll()
  {% endfor %}
    .start();

  var appMobile = document.getElementById('animated-text-mobile');

  var typewriterMobile = new Typewriter(appMobile, {
      loop: true,
      delay: 70
  });

  {% assign texts = section.settings.animated_text | split: "|" %}
  typewriterMobile
  {% for text in texts%}
    .deleteAll()
    .typeString('{{text}}')
    .pauseFor(1000)
    .deleteAll()
  {% endfor %}
    .start();
  </script>
{% endif %}

<style>
  .reason-block__description {
    font-size: 18px
  }
  
  .animated-content-container {
    border-bottom: 4px solid #F3576B;
    padding-bottom: 1.5rem;
    margin: 0 4rem;
  }
  .animated-text span {
    font-family: 'KGHAPPYSolid';
    font-size: 32px;
    color: #F3576B;
    line-height: 55px;
  }
  .top-section--banner-alt--container {
    padding: 20px 0;
    text-align: center;
    max-width: 300px;
    margin: 0 auto;
  }
  .top-section--banner-alt--container h1 {
    max-width: 250px;
    margin: 0 auto;
  }
  .top-section--banner-alt h1 {
    margin-bottom: 0;
    font-size: 20px;
    text-align: center;
  }
  .banner.banner--3-columns {
    display: flex;
  }
  .banner--3-columns h1 {
    text-transform: none;
  }

  .banner--3-columns-alt.banner--3-columns h1 {
    font-size: 32px;
    line-height: 55px;
  }
  .banner--3-columns .banner-description {
    font-size: 24px;
    line-height: 42px;
    font-weight: 500;
  }

  .banner.banner--3-columns .content-left {
    width: 30%;
  }
  .content-center img {
    max-width: 210px;
    margin: 20px auto;
  }
  .content-center .btn { 
    max-width: 310px;
    margin: 0 auto;
    width: 100%;
    padding-top: 16px !important;
    padding-bottom: 16px !important;
  }
  .banner.banner--3-columns .content-right {
    width: 30%;
  }

  .banner.banner--3-columns .content-center {
    width: 40%;
    padding: 40px 30px 30px;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .content-left, .content-right {
    position: relative;
  }

  .content-left img, .content-right img {
    height: 100%;
    object-fit: cover;
  }
  .banner--3-columns__icon-container img {
    width: 100%;
    margin: 0 auto;
    margin-bottom: 2rem;
  }

  .banner--3-columns__icon-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 1rem;
    max-width: 170x;
  }
  .banner--3-columns__icon-block > p {
    margin-top: auto;
    min-height: 50px;
    display: flex;
    align-items: center;
    font-size: 18px;
  }
  .banner--3-columns__icons-blocks {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
    margin-bottom: 3rem;
  }
  .banner-section-header p {
    margin: 0;
    color: white;
    padding: .75rem 0;
    text-align: center;
    font-size: 20px;
    font-weight: 500;
  }
  .banner-section-header a {
    color: white;
    text-decoration: underline;
  }
  .banner--3-columns-alt.banner--3-columns .banner-description { 
    font-size: 18px;
    line-height: 31px;
  }
  .animated-content-container > h1 {
    max-width: 360px;
    margin: 0 auto;
  }

  .animated-content-container > .animated-text {
    max-width: 450px;
    margin: 0 auto;
    min-height: 110px;
  }
  @media only screen and (max-width: 749px) {
    .top-section--banner-alt--container {
    }
    .top-section--banner-alt--container .animated-text { 
      min-height: 70px;
    }
    .banner-section-header p {
      font-size: 12px;
    }
    .top-section--banner-alt .animated-text span {
      font-size: 22px;
      line-height: 31px;
    }
    .banner--3-columns__icon-block > p {
      font-size: 16px;
      line-height: 18px;
    }
    .content-left img, .content-right img {
      max-height: 50vh;
      width: 100%;
    }
    .banner.banner--3-columns {
      flex-wrap: wrap;
    }
    
    .banner.banner--3-columns .content-left {
        width: 50%;
    }
    
    .banner.banner--3-columns .content-right {
        width: 50%;
    }
    
    .banner.banner--3-columns .content-center {
        width: 100%;
        order: 5;
    }
    
    .content-center img {
        max-width: 120px;
    }
    
    .content-center h1 {
        font-size: 20px;
    }
    .content-center img {
      margin: 14px 0;
    }
    .banner--3-columns-alt .content-center img {
      margin-bottom: 0;
    }
    .banner--3-columns-alt.banner--3-columns .banner-description {
      font-size: 16px;
      line-height: 22px;
      padding: 2rem 1rem 0;
    }
    .banner.banner--3-columns.banner--3-columns-alt .content-center {
        padding: 10px 10px 20px;
    }
    .banner--3-columns__icon-block {
      padding: 0 1rem;
    }
  }
</style>

{% schema %}
  {
    "name": "Banner 3 Columns Alt",
    "class": "banner-3-columns-section--alt",
    "settings": [
      {
        "type": "richtext",
        "id": "header_text",
        "label": "Header text"
      },
      {
        "type": "color",
        "id": "header_background",
        "label": "Header Background Color"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      },
      {
        "type": "color",
        "id": "header_color",
        "label": "Header Color",
        "default": "#01bcbe"
      },
      {
        "type": "textarea",
        "id": "animated_text",
        "label": "Animated text"
      },
      {
        "type": "html",
        "id": "description",
        "label": "Text"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color"
      },
      {
        "type": "image_picker",
        "id": "left_image",
        "label": "Left Image"
      },
      {
        "type": "image_picker",
        "id": "right_image",
        "label": "Right Image"
      },
      {
        "type": "text",
        "id": "text",
        "label": "Button Text",
        "default": "Pick a Club"
      },
      {
        "type": "url",
        "id": "url",
        "label": "Button URL"
      }
    ],
    "blocks": [{
      "type": "icon",
      "name": "Icon",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "range",
          "id": "icon_width",
          "label": "Icon",
          "min": 20,
          "max": 200,
          "step": 10,
          "default": 100
        }
      ]
    }],
    "presets": [
      {
        "name": "Banner 3 columns alt",
        "category": "Homepage"
      }
    ]
  }
{% endschema %}